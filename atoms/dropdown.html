<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="../assets/css/style.css" />
<!-- <style>
  body {
    background-color: #08312a;
    height: 100vh;
    margin: 32px 0;
  }
</style> -->
</head>     

<body>

<!--surround the select box with a "select-menu" DIV element. Remember to set the width:-->
<div class="select-menu">
  <select>
    <option value="0">Please select</option>
    <option value="1">Boehringer employee - company purchase - login with SSO</option>
    <option value="2">Boehringer employee - personal purchase - login with SSO</option>
    <option value="3">Agency user - login with registered email</option>
  </select>
</div>

<script>
function createCustomSelect(selectMenu) {
  const selectElement = selectMenu.querySelector('select');
  const selected = document.createElement('div');
  selected.classList.add('select-selected');
  selected.textContent = selectElement.options[selectElement.selectedIndex].text;
  selectMenu.insertBefore(selected, selectElement);

  const items = document.createElement('div');
  items.classList.add('select-items', 'select-hide');
  for (let i = 1; i < selectElement.options.length; i++) { // Start from index 1 to skip the first option
    const item = document.createElement('div');
    item.textContent = selectElement.options[i].text;
    item.addEventListener('click', () => {
      selectElement.selectedIndex = i;
      selected.textContent = selectElement.options[i].text;
      items.classList.add('select-hide');
      selected.classList.toggle('select-arrow-active');
    });
    items.appendChild(item);
  }
  selectMenu.insertBefore(items, selectElement.nextSibling);

  selected.addEventListener('click', () => {
    items.classList.toggle('select-hide');
    selected.classList.toggle('select-arrow-active');
  });
}

// Find all elements with the class "select-menu"
const selectMenus = document.getElementsByClassName("select-menu");

// Create custom select for each element
for (let i = 0; i < selectMenus.length; i++) {
  createCustomSelect(selectMenus[i]);
}

// Close all select boxes when clicking outside
document.addEventListener('click', (event) => {
  if (!event.target.closest('.select-selected')) {
    const selectItems = document.querySelectorAll('.select-items');
    selectItems.forEach(item => item.classList.add('select-hide'));
    const selectedItems = document.querySelectorAll('.select-selected');
    selectedItems.forEach(item => item.classList.remove('select-arrow-active'));
  }
});
</script>

</body>
</html>
